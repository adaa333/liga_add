package util;

import java.util.ArrayList;
import java.util.List;

import dao.CRUD;
import entities.Competicion;
import entities.Equipo;
import entities.Partido;

public class IniciarCompeticion {
	
	public static void iniciarTemporada(Competicion competicion) {
		CRUD<Equipo> crud = new CRUD<Equipo>(Equipo.class);
		
		List<Equipo> equiposDB = crud.selectAll();
		
		List<Partido> partidos = new ArrayList<Partido>();
		List<Partido> partidosVuelta2 = new ArrayList<Partido>();

		partidos.add(new Partido(equiposDB.get(0).getNombre()+"-"+equiposDB.get(1).getNombre()));
		partidos.add(new Partido(equiposDB.get(2), equiposDB.get(3)));
		partidos.add(new Partido(equiposDB.get(4), equiposDB.get(5)));

		partidos.add(new Partido(equiposDB.get(0), equiposDB.get(2)));
		partidos.add(new Partido(equiposDB.get(1), equiposDB.get(6)));
		partidos.add(new Partido(equiposDB.get(4), equiposDB.get(3)));

		partidos.add(new Partido(equiposDB.get(0), equiposDB.get(3)));
		partidos.add(new Partido(equiposDB.get(1), equiposDB.get(5)));
		partidos.add(new Partido(equiposDB.get(2), equiposDB.get(6)));

		partidos.add(new Partido(equiposDB.get(0), equiposDB.get(5)));
		partidos.add(new Partido(equiposDB.get(1), equiposDB.get(2)));
		partidos.add(new Partido(equiposDB.get(4), equiposDB.get(6)));

		partidos.add(new Partido(equiposDB.get(0), equiposDB.get(4)));
		partidos.add(new Partido(equiposDB.get(1), equiposDB.get(3)));
		partidos.add(new Partido(equiposDB.get(6), equiposDB.get(5)));

		partidos.add(new Partido(equiposDB.get(0), equiposDB.get(6)));
		partidos.add(new Partido(equiposDB.get(2), equiposDB.get(4)));
		partidos.add(new Partido(equiposDB.get(3), equiposDB.get(5)));

		partidos.add(new Partido(equiposDB.get(1), equiposDB.get(4)));
		partidos.add(new Partido(equiposDB.get(2), equiposDB.get(5)));
		partidos.add(new Partido(equiposDB.get(3), equiposDB.get(6)));
		
		for(Partido partido: partidos) {
			partidosVuelta2.add(new Partido(partido.getEquipoVisitante(),partido.getEquipoLocal()));
		}


		List<Jornada> jornadas= new ArrayList<Jornada>();

		
		for (int i=0; i<7;i+=3) {
			jornadas.add(new Jornada(competicion, partidos.get(i), partidos.get(i+1),partidos.get(i+2)));
		}
		
		for (int i=0; i<7;i+=3) {
			jornadas.add(new Jornada(competicion, partidosVuelta2.get(i), partidosVuelta2.get(i+1),partidosVuelta2.get(i+2)));
		}	
		
		//jornadas y partidos en memoria
		for(Jornada jornada: jornadas) {
			jornada.iniciarJornada();
		}
	}
	
}
